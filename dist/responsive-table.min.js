!function(n){"use strict";n.ResponsiveTable=function(e,s){return this.elements={tables:e},n.extend(!0,this.settings={},n.ResponsiveTable.defaults,s),this.prepareRequiredOptions()?this.init():this},n.ResponsiveTable.defaults={devices:void 0,deviceDetect:void 0,breakpoint:"mobile",reloadOnResize:!0,allowFallbackOnFirstRow:!0,labelsDisplay:"inline",classes:{prefix:"responsive-table",initialized:"is-initialized",hasLabels:"is-label",cellWrapper:"cell-wrapper"}},n.ResponsiveTable.prototype={prepareRequiredOptions:function(){var e=this;return 0!==e.elements.length&&(void 0===e.settings.devices&&(n.DeviceDetect,1)&&(e.settings.deviceDetect=new n.DeviceDetect,e.settings.devices=e.settings.deviceDetect.getDevices()),void 0!==e.settings.devices||(console.error("deviceDetect is required but missing."),!1))},init:function(){var e=this;return e.execute(),e.settings.reloadOnResize&&e.settings.deviceDetect.onResize(function(){e.settings.devices=this.deviceDetect.devices,e.execute()}),this},execute:function(){var i=this;i.elements.tables.each(function(e,s){var t;((s=n(s)).addClass(i.settings.classes.prefix+" l-cells-"+i.settings.labelsDisplay),!0===i.settings.devices[i.settings.breakpoint])?(s.addClass(i.settings.classes.initialized),t=0===s.find("th").length&&i.settings.allowFallbackOnFirstRow?i.getFirstRowLabels(s):i.getHeadLabels(s),i.setResponsiveLayout(s,t),void 0!==t&&t.length?s.addClass(i.settings.classes.hasLabels):s.removeClass(i.settings.classes.hasLabels)):s.removeClass(i.settings.classes.hasLabels+" "+i.settings.classes.initialized)})},setResponsiveLayout:function(e,t){var i=this;e.find("tr, td, th").removeAttr("style"),t.length&&e.find("tr").each(function(e,s){(s=n(s)).children().each(function(e,s){(s=n(s)).attr({"data-head-label":t[e]}).html(n("<div>",{class:i.settings.classes.cellWrapper,html:s.html()}))})})},getFirstRowLabels:function(e){var t=[];return e.find("tr").eq(0).children("td").each(function(e,s){t.push(n(s).text())}),t},getHeadLabels:function(e){var t=[];return e.find("thead > tr").eq(0).children("th, td").each(function(e,s){t.push(n(s).text())}),t}},n.fn.responsiveTable=function(e){return new n.ResponsiveTable(n(this),e)}}(jQuery);