!function(e){"use strict";e.ResponsiveTable=function(s,t){return this.elements={tables:s},e.extend(!0,this.settings={},e.ResponsiveTable.defaults,t),this.prepareRequiredOptions()?this.init():this},e.ResponsiveTable.defaults={devices:void 0,deviceDetect:void 0,breakpoint:"mobile",reloadOnResize:!0,allowFallbackOnFirstRow:!0,labelsDisplay:"inline",classes:{prefix:"responsive-table",initialized:"is-initialized",hasLabels:"is-label",cellWrapper:"cell-wrapper"}},e.ResponsiveTable.prototype={prepareRequiredOptions:function(){var s=this;return 0!==s.elements.length&&(void 0===s.settings.devices&&void 0!==typeof e.DeviceDetect&&(s.settings.deviceDetect=new e.DeviceDetect,s.settings.devices=s.settings.deviceDetect.getDevices()),void 0!==s.settings.devices||(console.error("deviceDetect is required but missing."),!1))},init:function(){var e=this;return e.execute(),e.settings.reloadOnResize&&e.settings.deviceDetect.onResize(function(){e.settings.devices=this.deviceDetect.devices,e.execute()}),this},execute:function(){var s=this;s.elements.tables.each(function(t,i){var n;((i=e(i)).addClass(s.settings.classes.prefix+" l-cells-"+s.settings.labelsDisplay),!0===s.settings.devices[s.settings.breakpoint])?(i.addClass(s.settings.classes.initialized),n=0===i.find("th").length&&s.settings.allowFallbackOnFirstRow?s.getFirstRowLabels(i):s.getHeadLabels(i),s.setResponsiveLayout(i,n),void 0!==n&&n.length?i.addClass(s.settings.classes.hasLabels):i.removeClass(s.settings.classes.hasLabels)):i.removeClass(s.settings.classes.hasLabels+" "+s.settings.classes.initialized)})},setResponsiveLayout:function(s,t){var i=this;s.find("tr, td, th").removeAttr("style"),t.length&&s.find("tr").each(function(s,n){(n=e(n)).children().each(function(s,n){(n=e(n)).attr({"data-head-label":t[s]}).html(e("<div>",{class:i.settings.classes.cellWrapper,html:n.html()}))})})},getFirstRowLabels:function(s){var t=[];return s.find("tr").eq(0).children("td").each(function(s,i){t.push(e(i).text())}),t},getHeadLabels:function(s){var t=[];return s.find("thead > tr").eq(0).children("th, td").each(function(s,i){t.push(e(i).text())}),t}},e.fn.responsiveTable=function(s){return new e.ResponsiveTable(e(this),s)}}(jQuery);